{"version":3,"sources":["utils.js","header.js","footer.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"base.js","sourcesContent":["(function utils($) {\n    /**\n     * Splits and normalizes the given url into hostname, pathname, query string\n     * and fragment.\n     *\n     * @param string url\n     * @return Object Null or an object with structure as follows:\n     * {\n     *     hostname,\n     *     pathname,\n     *     queryString,\n     *     fragment\n     * }\n     */\n    $.parseURL = function (url) {\n        var urlRegex = /^(?:https?:\\/\\/)?([A-Za-z0-9.-]+\\.[A-Za-z]+)?(\\/?[^?#\\s]+)?(?:\\?([^#]+)?)?(?:#(.*))?$/;\n        var matches = url.match(urlRegex);\n        if (!matches) {\n            return null;\n        }\n\n        var parts = {\n            hostname: matches[1] ? matches[1] : window.location.hostname,\n            pathname: matches[2] ? matches[2] : window.location.pathname,\n            queryString: matches[3] ? matches[3] : '',\n            fragment: matches[4] ? matches[4] : ''\n        };\n\n        // Process relative pathnames\n        if (parts.pathname[0] !== '/')\n        {\n            // Append current pathname to the specified pathname\n            var prefix = window.location.pathname;\n            prefix = prefix[prefix.length - 1] === '/' ? prefix : (prefix+'/');\n            parts.pathname = prefix + parts.pathname;\n        }\n\n        // Make sure pathname ends with a '/'\n        if (parts.pathname[parts.pathname.length - 1] !== '/')\n        {\n            parts.pathname += '/';\n        }\n\n        return parts;\n    };\n\n    /**\n     * Scrolls window to the put given element on top of the page.\n     *\n     * @param jQueryCollection $el\n     * @param int duration\n     */\n    $.scrollWindowTo = function ($el, duration, easing, callback, respectHeader) {\n        duration = typeof(duration) !== 'number' ? 1000 : duration;\n        easing = typeof(easing) !== 'string' || easing === '' ? 'swing' : easing;\n        callback = typeof(callback) !== 'function' ? (function () {}) : callback;\n        respectHeader = typeof(respectHeader) === 'boolean' ? respectHeader : true;\n\n        $('html, body').animate({\n            scrollTop: $el.offset().top - (respectHeader ? $('.js-site-header').outerHeight() : 0)\n        }, duration, easing, callback);\n    };\n\n    /**\n     * Checks if email address is valid. Regex is taken from:\n     * http://jsfiddle.net/ghvj4gy9/embedded/result,js/ as pointed by:\n     * http://stackoverflow.com/a/46181\n     */\n    $.validateEmail = function (email) {\n        var emailRegex = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n        return emailRegex.test(email);\n    };\n})(jQuery);\n","(function header($) {\n    window.SiteHeader = {\n        dynamicHeader: true\n    };\n\n    /**\n    * Updates the style of header based on scroll position\n    */\n    SiteHeader.updateStyle = function () {\n        var $header = $('.js-site-header');\n        var scrollTop = $('body').scrollTop() || $('html').scrollTop();\n        var headerHeight = $header.height();\n\n        if (!SiteHeader.dynamicHeader || scrollTop >= headerHeight)\n        {\n            $header.addClass('site-header--opaque');\n        }\n        else\n        {\n            $header.removeClass('site-header--opaque');\n        }\n    };\n\n    $(document).ready(function () {\n\n        // Universities header link\n        $('.js-site-header-link').click(function (e) {\n            var targetURL = $(this).attr('href');\n            var urlParts = $.parseURL(targetURL);\n            if (!urlParts)\n            {\n                return;\n            }\n\n            // Check if link refers to the current page\n            var currentURLParts = $.parseURL(window.location.href);\n            var samePage = urlParts.hostname === currentURLParts.hostname &&\n                           urlParts.pathname === currentURLParts.pathname &&\n                           urlParts.queryString === currentURLParts.queryString;\n            if (samePage && urlParts.fragment !== '')\n            {\n                // Scroll to hash if reference is found on page\n                var $scrollTo = $('#'+urlParts.fragment);\n                if ($scrollTo.length === 1)\n                {\n                    $.scrollWindowTo($scrollTo, 500, 'swing', function () {\n                        window.location.hash = urlParts.fragment;\n                    });\n                    e.preventDefault();\n                }\n            }\n        });\n\n        // Header on scroll\n        $(document).on('scroll', function () {\n            SiteHeader.updateStyle();\n        });\n\n        // Init\n        SiteHeader.updateStyle();\n    });\n})(jQuery);\n","(function footer($) {\n    $(document).ready(function () {\n        $('.js-subscribe-button').click(function (e) {\n            e.preventDefault();\n\n            var $button = $(this);\n            var $inputField = $('.js-subscribe-email');\n            if ( $(this).hasClass('disabled') )\n            {\n                return;\n            }\n\n            // Disable inputs\n            $button.addClass('subscribe-form__submit--disabled');\n            $inputField.prop('disabled', true);\n            $inputField.removeClass('input-text--error');\n\n            var onSuccess = function () {\n                $button.removeClass('subscribe-form__submit--disabled');\n                $inputField.prop('disabled', false);\n                $('.js-subscribe-form').addClass('subscribe-form--hidden');\n                $('.js-success-indicator').removeClass('success--hidden');\n            };\n\n            var onError = function (error) {\n                console.error(error);\n                $button.removeClass('subscribe-form__submit--disabled');\n                $inputField.prop('disabled', false);\n                $inputField.addClass('input-text--error');\n            };\n\n            var email = $('.js-subscribe-email').val();\n            if ( !$.validateEmail(email) )\n            {\n                onError('Invalid email address to be used for subscription');\n                return;\n            }\n\n            // $.ajax({\n            //     url: '',\n            //     data: {\n            //         email: email\n            //     },\n            //     method: 'POST',\n            //     dataType: 'json',\n            //     success: function (data, textStatus, jqXHR) {},\n            //     error: function (jqXHR, textStatus, errorThrown) {}\n            // });\n        });\n    });\n})(jQuery);\n"],"sourceRoot":"/source/"}