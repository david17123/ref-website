{"version":3,"sources":["header.js","footer.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"defaultLayout.js","sourcesContent":["(function header($) {\n    window.SiteHeader = {\n        dynamicHeader: false\n    };\n\n    /**\n    * Updates the style of header based on scroll position\n    */\n    SiteHeader.updateStyle = function () {\n        var $header = $('.js-site-header');\n        var scrollTop = $('body').scrollTop() || $('html').scrollTop();\n        var headerHeight = $header.height();\n\n        if (!SiteHeader.dynamicHeader || scrollTop >= headerHeight)\n        {\n            $header.addClass('site-header--opaque');\n        }\n        else\n        {\n            $header.removeClass('site-header--opaque');\n        }\n    };\n\n    $(document).ready(function () {\n\n        // Universities header link\n        $('.js-site-header-link').click(function (e) {\n            var targetURL = $(this).attr('href');\n            var urlParts = $.parseURL(targetURL);\n            if (!urlParts)\n            {\n                return;\n            }\n\n            // Check if link refers to the current page\n            var currentURLParts = $.parseURL(window.location.href);\n            var samePage = urlParts.hostname === currentURLParts.hostname &&\n                           urlParts.pathname === currentURLParts.pathname &&\n                           urlParts.queryString === currentURLParts.queryString;\n            if (samePage && urlParts.fragment !== '')\n            {\n                // Scroll to hash if reference is found on page\n                var $scrollTo = $('#'+urlParts.fragment);\n                if ($scrollTo.length === 1)\n                {\n                    $.scrollWindowTo($scrollTo, 500, 'swing', function () {\n                        window.location.hash = urlParts.fragment;\n                    });\n                    e.preventDefault();\n                }\n            }\n        });\n\n        // Header on scroll\n        $(document).on('scroll', function () {\n            SiteHeader.updateStyle();\n        });\n\n        // Init\n        SiteHeader.updateStyle();\n    });\n})(jQuery);\n","(function footer($) {\n    $(document).ready(function () {\n        var $subscribeForm = $('.js-subscribe-form');\n        $subscribeForm.on('submit', function (event) {\n            event.preventDefault();\n\n            var $email = $('.js-subscribe-email');\n            if ( $(this).hasClass('disabled') )\n            {\n                return;\n            }\n\n            // Disable inputs\n            $subscribeForm.find('input').prop('disabled', true);\n            $email.removeClass('input-text--error');\n\n            var onSuccess = function () {\n                $subscribeForm.find('input').prop('disabled', false);\n                $('.js-subscribe-form').addClass('subscribe-form--hidden');\n                $('.js-success-indicator').removeClass('success--hidden');\n            };\n\n            var onError = function (error) {\n                console.error(error);\n                $subscribeForm.find('input').prop('disabled', false);\n                $email.addClass('input-text--error');\n            };\n\n            var email = $('.js-subscribe-email').val();\n            if ( !$.validateEmail(email) )\n            {\n                onError('Invalid email address to be used for subscription');\n                return;\n            }\n\n            $.ajax({\n                url: PageVars.subscribeAjaxUrl,\n                method: 'POST',\n                data: {\n                    email: $email.val(),\n                    _token: PageVars.csrfToken\n                },\n                dataType: 'json',\n                success: function (data) {\n                    if (data.subscribed) {\n                        onSuccess();\n                    } else {\n                        onError('Failed to subscribe');\n                    }\n                },\n                error: function (error) {\n                    onError(error);\n                }\n            });\n        });\n    });\n})(jQuery);\n"],"sourceRoot":"/source/"}